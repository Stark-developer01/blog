<!doctype html><html class="no-js"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="/favicon.ico"><link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css"><script src="/scripts/vendor/modernizr.js"></script><title>Sam Beckham | CSS Parallax Effect</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-19985723-6', 'auto');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');</script></head><body style="background-color:#c0392b"><div class="hide"><svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><symbol viewbox="0 0 410 660" id="icon__logo"><title>logo</title><path d="M201 247C175 247 154 226 154 200 154 187 159.3 175.3 167.8 166.8 176.3 158.3 188 153 201 153 227 153 248 174 248 200 248 210.6 244.5 220.3 238.6 228.2 291.7 237.3 338.2 265.5 371 305.4L371 305.4C390 274.8 401 238.7 401 200 401 89.5 311.5 0 201 0 90.5 0 1 89.5 1 200 1 219.3 3.7 238 8.9 255.7L8.9 255.7C32.9 338.8 109.3 399.6 200 400 226 400 247 421 247 447 247 460 241.7 471.7 233.2 480.2 224.7 488.7 213 494 200 494 174 494 153 473 153 447 153 436.4 156.5 426.7 162.4 418.8 109.3 409.7 62.8 381.5 30 341.6L30 341.6C11 372.2 0 408.3 0 447 0 557.5 89.5 647 200 647 310.5 647 400 557.5 400 447 400 427.7 397.3 409 392.1 391.3L392.1 391.3C368.1 308.2 291.7 247.4 201 247L201 247Z"></symbol></svg></div><main role="main" class="animate-in"><header class="page-header" role="banner"><div class="wrapper"><a href="/" class="main-logo" title="home"><svg viewbox="0 0 100 100" class="icon icon__logo"><use xlink:href="#icon__logo"></use></svg></a><nav class="nav nav--main"><ul><li class="nav__work"><a href="/made">Work</a></li><li class="nav__blog"><a href="/wrote">Blog</a></li><li class="nav__contact"><a href="mailto:sam@beckham.io">Contact</a></li></ul></nav></div></header><article class="page article"><header class="page__header" style="background: #c0392b"><div class="wrapper"><div class="page__header__headings"><h1>CSS Parallax Effect</h1><span class="page__date--header">17 February 2015</span></div></div></header><div class="wrapper"><div class="page__content"><p>I recently discovered that one of my pens on CodePen is one of the <a href="http://codepen.io/2014/popular/10/">most hearted pens of 2014</a>. I’m stunned.</p><p>This is the pen in question: <a href="http://codepen.io/samdbeckham/pen/OPXPNp">Firewatch parallax in CSS</a>. Scroll inside the pen to see the effect.</p><p data-height="512" data-theme-id="0" data-slug-hash="OPXPNp" data-default-tab="result" data-user="samdbeckham" class="codepen">See the Pen <a href="http://codepen.io/samdbeckham/pen/OPXPNp/">Firewatch Parallax in CSS</a> by Sam Beckham (<a href="http://codepen.io/samdbeckham">@samdbeckham</a>) on <a href="http://codepen.io">CodePen</a>.</p><script async="" src="//assets.codepen.io/assets/embed/ei.js"></script><p><strong>Full disclaimer:</strong> I did not design or illustrate any of this. If you haven’t seen it already, this is a remake of the beautifully illustrated <a href="">Firewatch</a> website. I wanted to see if I could do parallax with just CSS and this is the best designed parallax effect I’ve seen on a website.</p><h2 id="how-it-works">How it works</h2><p>Parallax gets mis-labelled a lot in web design. Often, anything that moves as you scroll through a site gets called parallax. But that’s not what it means. It’s an effect that you probably see every day in the real-world and, when used correctly, can add a nice sense of depth to a website. The definition of parallax is:</p><blockquote><p>The effect whereby the position or direction of an object appears to differ when viewed from different positions, e.g. through the viewfinder and the lens of a camera.</p></blockquote><p>This gif by <a href="http://trentwalton.com/2013/01/20/parallax-scrolling-on-the-web/">Trent Walton</a>, illustrates the effect quite well.</p><p><img src="/images/articles/firewatch/parallax.gif" alt="Trent Walton's real-life parallax example"></p><p>In my pen, I used CSS3d transforms to give the scene some depth. When combined with some perspective you can get some really nice results.</p><h2 id="how-its-made">How it’s made</h2><p><em>The pen has six layers, but for clarity we’ll run through an example with three.</em> We start off with our wrapper, or stage. Inside that stage we have our layers, one element for each.</p><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;parallax__stage&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;parallax__layer parallax__layer--0&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;parallax__layer parallax__layer--1&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;parallax__layer parallax__layer--2&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></div><p>That’s essentially it for the HTML. We could add images inside them divs, but we’ll keep it simple. Now, on to the CSS.</p><p>We want the stage to fill the viewport and we want each layer to be the same size as the frame. That’s pretty easy.</p><div class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nc">.parallax__stage</span> <span class="p">{</span>
    <span class="na">height</span><span class="o">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
    <span class="na">left</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">overflow</span><span class="o">:</span> <span class="no">auto</span><span class="p">;</span>
    <span class="na">position</span><span class="o">:</span> <span class="no">absolute</span><span class="p">;</span>
    <span class="na">top</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.parallax__layer</span> <span class="p">{</span>
    <span class="na">bottom</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">height</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="na">left</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">position</span><span class="o">:</span> <span class="no">absolute</span><span class="p">;</span>
    <span class="na">right</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">top</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span></code></pre></div><p>Now that we’ve set the stage, we need to add our (p)layers. This is where the math comes in to play. We could use standard CSS here, but mixins make it much easier and extendable.</p><div class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nv">$parallax__layers</span><span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
<span class="nv">$parallax__amount</span><span class="o">:</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">@for</span> <span class="nv">$i</span> <span class="ow">from</span> <span class="mi">0</span> <span class="ow">through</span> <span class="nv">$parallax__layers</span> <span class="p">{</span>
    <span class="nv">$distance</span><span class="o">:</span> <span class="o">-</span><span class="nv">$parallax__amount</span> <span class="o">*</span> <span class="p">(</span><span class="nv">$parallax__layers</span> <span class="o">-</span> <span class="nv">$i</span><span class="p">);</span>
    <span class="nc">.parallax__layer--</span><span class="si">#{</span><span class="nv">$i</span><span class="si">}</span><span class="p">{</span>
        <span class="na">background-color</span><span class="o">:</span> <span class="nf">rgba</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nv">$i</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">);</span>
        <span class="na">transform</span><span class="o">:</span> <span class="nf">translateZ</span><span class="p">(</span><span class="nv">$distance</span><span class="si">#{</span><span class="no">px</span><span class="si">}</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></div><p>This mixin loops through each modifier and pushes it back in the z-axis. The <code>$distance</code> variable determines the distance each layer goes back. I’ve also modified the color on each one so we can see them clearer later.</p><p>If all you can see at the moment is a screen full of gray nothing; don’t adjust your set, that’s what we’re expecting to see. Let’s add a little perspective.</p><div class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nc">.parallax__stage</span> <span class="p">{</span>
    <span class="na">perspective</span><span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span></code></pre></div><p>And there it is, 100% CSS parallax. Well, not quite. You won’t be able to scroll yet because there’s nowhere to scroll to. Just add in an element below the stage and give it the following properties.</p><div class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nc">.content</span> <span class="p">{</span>
    <span class="na">background</span><span class="o">:</span> <span class="nf">rgba</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="mf">.8</span><span class="p">);</span>
    <span class="na">margin-top</span><span class="o">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
    <span class="na">min-height</span><span class="o">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span> <span class="c1">// to make up for the lack of content</span>
    <span class="na">position</span><span class="o">:</span> <span class="no">relative</span><span class="p">;</span>
    <span class="na">width</span><span class="o">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span></code></pre></div><p>Now you can scroll away and get all that parallax loveliness.</p><p>I’ve made <a href="http://codepen.io/samdbeckham/pen/WbaPBQ">a pen of this example</a> so you can play about, fork it and create your own version. I really do like CodePen.</p><h2 id="differences">Differences</h2><p>There are a few differences with the example and the Firewatch pen. Mainly, the Firewatch images I used were all the same size so I had to do some maths trickery to scale them back up. It’s just an modification of the mixin we used to push them back in the z-axis.</p><div class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="k">@for</span> <span class="nv">$i</span> <span class="ow">from</span> <span class="mi">0</span> <span class="ow">through</span> <span class="nv">$parallax__layers</span> <span class="p">{</span>
    <span class="nv">$distance</span><span class="o">:</span> <span class="p">(</span><span class="nv">$parallax__layers</span> <span class="o">-</span> <span class="nv">$i</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="nc">.parallax__layer--</span><span class="si">#{</span><span class="nv">$i</span><span class="si">}</span><span class="p">{</span>
        <span class="na">transform</span><span class="o">:</span> <span class="nf">translateZ</span><span class="p">(</span><span class="mi">-100</span> <span class="o">*</span> <span class="nv">$distance</span><span class="si">#{</span><span class="no">px</span><span class="si">}</span><span class="p">)</span> <span class="nf">scale</span><span class="p">(</span><span class="nv">$distance</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></div><p>I also did some re-positioning of the images, and placed a cover over the top, to stop the elements peeking through each other. It’s all pretty straight forward though, and you can look at all the code on the pen, so I’ll leave that as an excersise to the reader.</p></div></div></article><footer class="footer" style="background: #c0392b"><div class="wrapper"><a href="/" class="main-logo" title="home"><svg viewbox="0 0 100 100" class="icon icon__logo"><use xlink:href="#icon__logo"></use></svg></a><nav class="nav nav--footer"><ul><li class="nav__work"><a href="/made">Work</a></li><li class="nav__blog"><a href="/wrote">Blog</a></li><li class="nav__contact"><a href="mailto:sam@beckham.io">Contact</a></li></ul></nav>Follow me on, <a href="http://www.twitter.com/samdbeckham">Twitter</a>, <a href="http://www.github.com/samdbeckham">GitHub</a> or <a href="http://codepen.io/samdbeckham/">CodePen</a> <a class="disclaimer" href="/"><small>&copy; 2015 Sam Beckham</small></a></div></footer></main><script src="/scripts/main.js"></script></body></html>